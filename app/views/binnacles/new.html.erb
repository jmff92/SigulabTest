
<h1>Nuevo Registro en la Bitácora</h1>
<ol class="breadcrumb">
	<li> <%=link_to 'Inicio', controller: 'statics'%></li>
	<li> <%=link_to 'Inventario', inventario_url %></li>
	<li> <%=link_to 'Sustancias Químicas', chemical_substances_path %></li>
	<li> <%=link_to 'Bitácora', binnacles_path(@id) %></li>
  	<li class="active"> Nuevo Registro </li>
	
</ol>

<div id = "table2">
</div>
<br>

<%= form_for(@binnacle) do |f| %>
  <% if @binnacle.errors.any? %>
    <div class="col-xs-12" role="alert">
      <div class="alert alert-danger">
        <ul>
          <% @binnacle.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>

  <div class ="Informacion">

<div class="col-xs-12">
        <table class="table table-striped">

          <tr>
            <td class="col-xs-5 text-right"><strong>Fecha de Registro:</strong></td>
            <td class="col-xs-7"><%= f.text_field :fecha, :class => "bootlayout-date" %>
            <span class="red">*</span></td>
          </tr>
          <tr>
            <td class="col-xs-5 text-right"><strong>Tipo de Registro:</strong></td>
            <td class="col-xs-7"><%= f.select(:tipo, options_for_select([@binnacle.tipo,["Ingreso"],["Consumo"]]), {selected: @binnacle.tipo }, {:onchange => "changeType();"} ) %>
            <span class="red">*</span></td>
          </tr>
          <tr class="hidden_option1">
            <td class="hidden_option1 col-xs-5 text-right"><strong>Cantidad Consumida:</strong></td>
            <td class="hidden_option1 col-xs-7"> <%= f.number_field(:consumo, min: 0, :class => 'hidden_option1') %><span class="hidden_option1 red">*</span></td>
          </tr>

          <tr class="hidden_option2">
            <td class="hidden_option2 col-xs-5 text-right"><strong class="hidden_option2">Cantidad Ingresada:</strong></td>
            <td class="hidden_option2 col-xs-7"> <%= f.number_field :ingreso, min: 0, class: 'hidden_option2' %><span class="hidden_option2 red">*</span></td>
          </tr>
          <%= f.hidden_field :idSustancia, :value => @id %>
          
          <td class="col-xs-5"><td>

        </table>

    </div>

    <div class="col-xs-12 text-center">
      <div class="actions">
        <button type="submit" class="btn btn-default btn-success"><span class="glyphicon glyphicon-floppy-saved"></span>&nbsp;&nbsp;Crear</button>
        <%= link_to binnacles_path(@id) do %>
          <button type="button" class="btn btn-primary"><span class="fa fa-arrow-left"></span>&nbsp;&nbsp;Atrás</button>
        <% end %>
      </div>
    </div>


    <br>

    <br><br>
  </div>
<% end %>

<br><br>

<script>
  function changeType() {

    if ($('#binnacle_tipo').val()== "Ingreso") {
      $(".hidden_option2").fadeIn('fast');
    } else {
      $(".hidden_option2").fadeOut('fast');   
    }

    if ($('#binnacle_tipo').val()== "Consumo") {
      $(".hidden_option1").fadeIn('fast');
    } else {
      $(".hidden_option1").fadeOut('fast');   
    }

  }
</script>

<style>

.red {
    font-size               : 22px;
    color                   : red;
}

.Informacion {
    line-height             :1.6em;
}

.hidden_option1{
  display: none;
}

.hidden_option2{
  display: none;
}

</style>

